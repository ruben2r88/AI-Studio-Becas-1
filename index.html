<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Eture Scholarship Platform</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
  />
  <link rel="preload" href="assets/fonts/poppins/Poppins-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="assets/fonts/neue-power/NeuePower-Bold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="assets/brand/brand.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>

  <!-- Chart.js for Finanzas -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root {
      --brand-white: #F3F4F5;
      --brand-red:   #9C231F;
      --brand-gray:  #BFBFC0;
      --brand-black: #2D2A29;

      --eture-red: var(--brand-red);
      --sidebar-bg: var(--brand-red);
      --sidebar-tint: linear-gradient(180deg, #9C231F 0%, #7b1a17 100%);
      --muted: #6c757d;
      --bg-body: var(--brand-white);
      --card-bg: #ffffff;
    }

    body { font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .bg-eture-red { background-color: var(--eture-red) !important; }
    .text-eture-red { color: var(--eture-red) !important; }
    .btn-eture-red { background-color: var(--eture-red); border-color: var(--eture-red); color:#fff; }
    .btn-eture-red:hover { background-color:#85241F; border-color:#85241F; color:#fff; }

    /* Degradado sutil dentro del rojo corporativo */
    .sidebar{
      background: var(--sidebar-tint); /* usa el gradiente definido en :root */
      min-height:100vh;
      width:280px;
    }
    .sidebar .nav-link { color:rgba(255,255,255,0.8); transition:all .2s; padding:.75rem 1rem; border-radius:.5rem; }
    .sidebar .nav-link:hover { color:#fff; background-color:rgba(255,255,255,0.1); }
    .sidebar .nav-link.active { color:#fff; background-color:rgba(255,255,255,0.2); font-weight:600; }
    .form-control:focus, .form-select:focus{
      border-color: var(--brand-red);                    /* #9C231F */
      box-shadow: 0 0 0 .25rem rgba(156,35,31,.25);      /* halo acorde a la marca */
    }
    .fade-in { animation: fadeIn .5s ease-in-out; }
    @keyframes fadeIn { from{opacity:0; transform:translateY(-10px);} to{opacity:1; transform:translateY(0);} }
    .nav-tabs .nav-link.active{
      color: var(--brand-red);
      border-color:#dee2e6 #dee2e6 #fff;
      font-weight:600;
    }
    .nav-pills .nav-link { color: var(--bs-body-color); }
    .nav-pills .nav-link.active{
      background-color: var(--brand-red);
      color:#fff;
    }
    /* Football pitch */
    .football-pitch { width:100%; max-width:350px; margin:0 auto; aspect-ratio:7/10; background:#28a745; border:4px solid rgba(0,0,0,.1); border-radius:.5rem; position:relative;
      background-image:linear-gradient(to right, rgba(255,255,255,0.1) 1px, transparent 1px),linear-gradient(to bottom, rgba(255,255,255,0.1) 1px, transparent 1px);
      background-size:20px 20px;
    }
    .pitch-marking { border:2px solid rgba(255,255,255,.7); position:absolute; box-sizing:border-box; }
    .center-circle { top:50%; left:50%; transform:translate(-50%,-50%); width:25%; height:17%; border-radius:50%; }
    .center-line { top:50%; left:5%; right:5%; height:2px; background:rgba(255,255,255,.7); }
    .penalty-area-top { top:0; left:50%; transform:translateX(-50%); width:80%; height:20%; border-top:0; }
    .penalty-area-bottom { bottom:0; left:50%; transform:translateX(-50%); width:80%; height:20%; border-bottom:0; }
    .goal-area-top { top:0; left:50%; transform:translateX(-50%); width:40%; height:8%; border-top:0; }
    .goal-area-bottom { bottom:0; left:50%; transform:translateX(-50%); width:40%; height:8%; border-bottom:0; }
    .position-marker { position:absolute; width:38px; height:38px; background:#fff; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:.65rem; color:#3a3a3a; border:4px solid #3a3a3a; transform:translate(-50%,-50%); transition:all .3s ease; cursor:default; }
    .position-marker.main { background:#0d6efd; color:#fff; border-color:#fff; transform:translate(-50%,-50%) scale(1.1); }
    .position-marker.secondary { background:#ffc107; color:#3a3a3a; border-color:#3a3a3a; }

    /* Logos */
    #auth-container .logo-container { width:80%; max-width:300px; margin:0 auto 1rem; }
    .sidebar .logo-container { width:90%; max-width:200px; margin:0 auto; }
    /* === Tama√±o del logo del sidebar (grande) === */
    .sidebar .sidebar-logo{
      display: block;
      width: 88%;        /* ocupa casi todo el ancho del panel rojo */
      max-width: 240px;  /* tope para pantallas grandes */
      height: auto;
      margin-left: 4px;  /* ajuste visual opcional */
      filter: none;      /* el PNG ya es blanco; no necesitamos invertir colores */
    }


    /* Task list */
    .task-item .accordion-button:not(.collapsed){ background:rgba(158,43,37,.05); color:var(--bs-body-color); }
    .task-item .task-title.completed { text-decoration:line-through; color:#6c757d; }
    .task-status-select { width:150px; font-size:.8rem; }
    .accordion-button::after { margin-left:1rem; }
    #task-status-filter .btn { font-size:.9rem; }

    /* Promotional card */
    .profile-promocional .profile-header-banner { height:200px; background-size:cover; background-position:center; }
    .profile-promocional .profile-main-info { margin-top:-80px; }
    .profile-promocional .profile-picture { width:150px; height:150px; border-radius:50%; overflow:hidden; border:5px solid #fff; box-shadow:0 4px 15px rgba(0,0,0,.1); background:#eee; flex-shrink:0; }
    .profile-promocional .profile-picture img { width:100%; height:100%; object-fit:cover; }
    .profile-promocional .stat-card { background:#f8f9fa; border:1px solid #dee2e6; }
    .profile-promocional .video-placeholder { position:relative; width:100%; aspect-ratio:16/9; background:#3a3a3a; background-size:cover; background-position:center; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:transform .2s ease; }
    .profile-promocional .video-placeholder:hover { transform:scale(1.03); }
    .profile-promocional .play-icon { font-size:3rem; color:#fff; background:rgba(0,0,0,.5); width:80px; height:80px; border-radius:50%; display:flex; align-items:center; justify-content:center; line-height:80px; padding-left:5px; box-sizing:border-box; }
  </style>
</head>
<body>
  <!-- App Container -->
  <div id="app-container">
    <div class="d-flex">
      <!-- Sidebar -->
      <aside class="sidebar d-flex flex-column justify-content-between p-3 vh-100 position-sticky top-0 flex-shrink-0">
        <div>
          <!-- Marca en el sidebar -->
          <div class="px-3 py-3 d-flex align-items-center">
            <img src="assets/brand/eture-logo-white.png" alt="Eture" class="sidebar-logo">
          </div>

          <ul class="nav nav-pills flex-column mb-auto gap-2" id="main-nav" role="tablist">
            <li class="nav-item">
              <a href="#inicio" class="nav-link d-flex align-items-center active" data-bs-toggle="tab" data-bs-target="#inicio-content">üè†<span class="ms-3">Home</span></a>
            </li>
            <li class="nav-item">
              <a href="#perfil" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#perfil-content">üë§<span class="ms-3">My Profile</span></a>
            </li>
            <li class="nav-item">
              <a href="#proceso" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#proceso-content">üöÄ<span class="ms-3">My Process</span></a>
            </li>
            <li class="nav-item">
              <a href="#visa" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#visa-content">üõÇ<span class="ms-3">My Visa</span></a>
            </li>
            <li class="nav-item">
              <a href="#tareas" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#tareas-content">‚úîÔ∏è<span class="ms-3">Task List</span></a>
            </li>
            <li class="nav-item">
              <a href="#documentos" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#documentos-content">üìÑ<span class="ms-3">My Documents</span></a>
            </li>
            <li class="nav-item">
              <a href="#finanzas" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#finanzas-content">üí∞<span class="ms-3">Financial Status</span></a>
            </li>
            <li class="nav-item">
              <a href="#chat" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#chat-content">üí¨<span class="ms-3">Chat</span></a>
            </li>
            <li class="nav-item">
              <a href="#ayuda" class="nav-link d-flex align-items-center" data-bs-toggle="tab" data-bs-target="#ayuda-content">‚ùì<span class="ms-3">Help</span></a>
            </li>
          </ul>
        </div>

        <!-- Cerrar sesi√≥n -->
        <div>
          <button id="logout-btn" data-action="logout" class="btn nav-link d-flex align-items-center w-100 text-start">
            üö™<span class="ms-3">Log Out</span>
          </button>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="flex-grow-1 p-4" style="overflow-y:auto; height:100vh;">
        <!-- Barra superior con Cerrar sesi√≥n -->
        <div class="container my-2 d-flex justify-content-end">
          <button data-action="logout" type="button" class="btn btn-outline-danger btn-sm">
            Log out
          </button>
        </div>
        <div class="tab-content" id="main-content">
          <div class="tab-pane fade show active" id="inicio-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="perfil-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="proceso-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="visa-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="tareas-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="documentos-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="finanzas-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="chat-content" role="tabpanel"></div>
          <div class="tab-pane fade" id="ayuda-content" role="tabpanel"></div>
        </div>
      </main>
    </div>
  </div>

  <!-- Modals -->
  <div class="modal fade" id="social-media-modal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Social Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="social-type" class="form-label">Network type</label>
            <select class="form-select" id="social-type">
              <option>Instagram</option>
              <option>Twitter</option>
              <option>TikTok</option>
              <option>Facebook</option>
            </select>
          </div>
          <div>
            <label for="social-url" class="form-label">Profile URL</label>
            <input type="url" class="form-control" id="social-url" placeholder="https://..." />
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="save-social-link">Save</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="multimedia-modal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header"><h5 class="modal-title">Add Media</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
        <div class="modal-body">
          <input type="hidden" id="multimedia-type" />
          <div class="mb-3"><label for="multimedia-name" class="form-label"></label><input type="text" class="form-control" id="multimedia-name" /></div>
          <div><label for="multimedia-url" class="form-label">Link (URL)</label><input type="url" class="form-control" id="multimedia-url" placeholder="https://..." /></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="save-multimedia-link">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scholarship Breakdown Modal -->
  <div class="modal fade" id="scholarship-modal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="scholarship-modal-title">Scholarship Breakdown</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="scholarship-modal-body">
          <p class="text-center">Loading details...</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- NUEVO: Modal para crear/editar universidad -->
  <div class="modal fade" id="university-modal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add University</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="university-form">
            <div class="mb-3">
              <label class="form-label">University Name</label>
              <input type="text" class="form-control" id="university-name-input" placeholder="E.g.: University of Florida" required>
            </div>
            <div class="mb-2">
              <label class="form-label">Status</label>
              <select class="form-select" id="university-status-select" required>
                <option>Pending</option>
                <option>In Contact</option>
                <option>Offer Received</option>
                <option>Not Interested</option>
              </select>
            </div>
            <div class="form-text">You can edit or add the scholarship breakdown later.</div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="save-university-btn">Save</button>
        </div>
      </div>
    </div>
  </div>

<!-- University Timeline (Seguimiento) -->
<div class="modal fade" id="university-timeline-modal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">University Timeline</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <div id="timeline-list" class="mb-3">
          <!-- aqu√≠ se renderiza el historial -->
        </div>

        <div class="card">
          <div class="card-body">
            <label class="form-label fw-bold">Add note</label>
            <textarea id="timeline-new-text" class="form-control" rows="3" placeholder="E.g.: Call scheduled for Tuesday at 5:00 p.m."></textarea>
          </div>
          <div class="card-footer text-end">
            <button type="button" id="timeline-add-btn" class="btn btn-primary" data-university-id="">Save note</button>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

  <!-- Bootstrap JS Bundle -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  ></script>

  <!-- App Logic -->
  <script type="module" src="app.js"></script>
</body>
</html>
